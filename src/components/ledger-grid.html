<template>
  <table class="table table-sm table-hover" if.bind="state.ledger.length > 0" ref="htmlElement">
    <thead>
      <tr>
        <th>Date</th>
        <th>Description</th>
        <th>Account</th>
        <th class="money">Amount</th>
        <th class="money" repeat.for="acc of accountsInUse">${acc.account}</th>
      </tr>
    </thead>
    <tbody>
      <tr repeat.for="tran of state.ledger" class="${getRowStyleForTran(tran)}">
        <td><span title.bind="tran.schedule">${tran.date | dateFormat}</span></td>
        <td>${tran.description}</td>
        <td innerhtml.bind="accountLabel(tran)"></td>
        <td class="money">${tran.amount | textToMoney}</td>
        <td class="money" repeat.for="balance of objectValues(tran.balances)">${balance | textToMoney}</td>
      </tr>
    </tbody>
  </table>
</template>
