<template>
  <table class="table table-sm table-hover">
    <thead>
      <tr>
        <th>Date</th>
        <th>Account</th>
        <th class="money">Amount</th>
        <th>Description</th>
        <th class="money" repeat.for="acc of state.accounts2">${acc.account}</th>
      </tr>
    </thead>
    <tbody>
      <tr repeat.for="tran of generatedLedger" class="${getRowStyleForTran(tran)}">
        <td><span title.bind="tran.schedule">${tran.date | dateFormat}</span></td>
        <td>${tran.account}</td>
        <td class="money">${tran.amount | textToMoney}</td>
        <td>${tran.description}</td>
        <td class="money" repeat.for="balance of objectValues(tran.balances)">${balance | textToMoney}</td>
      </tr>
    </tbody>
  </table>
  <button click.trigger="publish()">Publish ledger!</button>
</template>
